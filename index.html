<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Opal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href='http://fonts.googleapis.com/css?family=Fauna+One|Fjalla+One' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.min.css">
  <link rel="stylesheet" href="css/solarized_dark.css" id="theme">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<div class="reveal">

  <div class="slides">

    <section>
      <h1>Opal</h1>
    </section>

    <section>
      <h1>Qu'est ce que c'est ?</h1>

      <aside class="notes">
        - base de donnees pour les biobanques et etudes epidemio
        - données sur les participants
      </aside>
    </section>

    <section>
      <h1>Collecte des données</h1>
      <img src="img/opal-flow.png" />

      <aside class="notes">
        - multiple sources
        - sources hétérogenes (excel, DB, web-service...)
      </aside>
    </section>

    <section>
      <h1>Modèle</h1>
    </section>

    <section>
      <h2>Metadonnées</h2>
      <ul class="top">
        <li class="fragment fade-in">Datasource (projet)</li>
        <li class="fragment fade-in">Tables</li>
        <li class="fragment fade-in">Variables</li>
        <li class="fragment fade-in">Catégories</li>
        <li class="fragment fade-in">Attributs</li>
        <li class="fragment fade-in">Vues</li>
      </ul>
    </section>

    <section>
      <h2>Données</h2>
      <ul class="top">
        <li class="fragment fade-in">Value Set</li>
        <li class="fragment fade-in">Vecteur</li>
      </ul>
      <aside class="notes">
        - value set --> read all data (export, indexation)
        - vecteur --> statistiques
      </aside>      
    </section>

    <section>
      <h2>Diagramme</h2>
      TODO
    </section>

    <section>
      <h2>Identifiants</h2>
    </section>

    <section>
      <h2>Implementations des datasources</h2>
    </section>

    <section>
      <h3>Plain JDBC (DB existantes)</h3>

      <aside class="notes">
        - limitation du nombre de variables (car nb colonnes limité)
      </aside>   
    </section>

    <section>
      <h3>Hibernate (EAV)</h3>
    </section>

    <section>
      <h3>MongoDB</h3>
      <aside class="notes">
        - On perd les transactions
      </aside>   
    </section>

    <section>
      <h3>Web Services</h3>
      <aside class="notes">
        - Permet d'importer depuis un autre Opal
      </aside>   
    </section>

    <section>
      <h3>CSV, XML</h3>
      <aside class="notes">
        - Utilisé pour importer/exporter les donnnées
      </aside>         
    </section>

    <section>
      <h1>Architecture Clients / Serveur</h1>
      <ul class="top">
        <li class="fragment fade-in">Serveur REST</li>
        <li class="fragment fade-in">Client GWT</li>
        <li class="fragment fade-in">Client Python</li>
        <li class="fragment fade-in">Client R</li>
      </ul>
      <aside class="notes">
        - GWT: GWTP + Bootstrap (LESS)
        - Python: script d'automatisation
        - R: DataShield
      </aside>
    </section>

    <section>
      <h1>Architecture Serveur</h1>
    </section>

    <section>
      <h2>Package Debian</h2>
      <img src="img/debian.jpg" />
      <aside class="notes">
        - Simplifie l'installation et les mises à jour
        - Gestion des dependances comme MongoDB, Daemon, etc...
      </aside>      
    </section>

    <section>
      <h2>Jetty embarqué</h2>
      <img src="img/jetty.png" />
      <p>Avant Spring Boot ;-)</p>
      <aside class="notes">
        - Maitre de notre config
        - Pas de conflit avec un autre war sous le servlet container
      </aside>         
    </section>

    <section>
      <h2>Base de données document embarquée</h2>
      <img src="img/orientdb.png" />
      <aside class="notes">
        - A l'origine: Hibernate avec HSQLDB
        - Documents plus facile à gérer que des relations SQL sous Hibernate
        - MongoDB ne s'embarque pas --> OrientDB
      </aside>         
    </section>

    <section>
      <h2>API REST</h2>
      <ul class="top">
        <li class="fragment fade-in">JAX RS (RestEasy)</li>
        <li class="fragment fade-in">Protocol Buffers</li>
        <li class="fragment fade-in">Documentation de l'API (Swagger)</li>
      </ul>
      <aside class="notes">
        - Protobuf: format binaire et DTO polyglothe
      </aside>         
    </section>

    <section>
      <h2>Sécurité</h2>
      <table class="center-middle">
        <tr>
          <td>
            <br/>
            <img src="img/shiro.jpg" class="w300" />
          </td>
          <td>
            <ul>
              <li class="fragment fade-in">Authentication</li>
              <li class="fragment fade-in">Authorization</li>
              <li class="fragment fade-in">Cryptography</li>
              <li class="fragment fade-in">Session management</li>
            </ul>
          </td>
        </tr>
      </table>    
    </section>

    <section>
      <h2>Spatial realm</h2>
      <br/><br/>
      <pre><code data-trim>
        [{domain}:]{uri}:{action}:{parent-action}/{children-action}
      </code></pre>
      <br/>
      <br/>
      <p>Persmission EDIT_TABLE</p>
      <pre><code data-trim>rest:/datasource/datasource_1/table/table_1:PUT:GET
rest:/datasource/datasource_1/table/table_1:GET:GET
rest:/datasource/datasource_1/table/table_1/variables:POST:GET/*
rest:/datasource/datasource_1/table/table_1/variables:DELETE:GET
rest:/datasource/datasource_1/table/table_1/variables:GET:GET/GET
rest:/datasource/datasource_1/table/table_1/variable:GET:GET/GET
      </code></pre>
      <aside class="notes">
        - ACL sur chaque item serait trop lent
      </aside>  
    </section>

    <section>
      <h2>Confidentialité et anonymisation</h2>
    </section>

    <section>
      <h2>Elastic Search</h2>
      <ul>
        <li class="fragment fade-in">Cluster</li>
        <li class="fragment fade-in">Statistiques</li>
        <li class="fragment fade-in">Aggrégation</li>
      </ul>
    </section>

    <section>
      <h2>Vues et Variables dérivées</h2>
      <ul>
        <li class="fragment fade-in">Javascript (Rhino)</li>
        <li class="fragment fade-in">Versions (Git)</li>
      </ul>
    </section>

    <section>
      <h1><a href="http://demo.obiba.org:8080/" target="_blank">Essayez Opal</a></h1>
      <br/>
      <ul>
        <li><b>Username:</b> administrator</li>
        <li><b>Password:</b> password</li>
      </ul>
    </section>

    <section>
      <h1>Questions ?</h1>
    </section>

  </div>

</div>

<script src="bower_components/reveal.js/lib/js/head.min.js"></script>
<script src="bower_components/reveal.js/js/reveal.min.js"></script>
<script>
  Reveal.initialize(
    {
      dependencies: [
        { 
          // Syntax highlight for <code> elements
          src: 'bower_components/reveal.js/plugin/highlight/highlight.js', 
          async: true, 
          callback: function() { hljs.initHighlightingOnLoad(); } 
        }
      ],
      history: true
//      transition: 'linear'
  });
</script>

</body>
</html>
